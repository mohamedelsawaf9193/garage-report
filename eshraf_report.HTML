
<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
  <meta charset="UTF-8">
   <title>âš™ ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ† âš™</title>
  <style>
    /* Reset & Font */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Cairo', Arial, sans-serif;
    }

  

    h1 {
      color: #e0ca51;
      text-align: center;
      margin-bottom: 25px;
      font-size: 2rem;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.6);
    }

    form {
      max-width: 900px;
      margin: 0 auto;
    }

    .section-block {
      background: rgba(255,255,255,0.07);
      border: 1px solid rgba(255,255,255,0.1);
      margin-bottom: 20px;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.4);
      text-align: center;
    }

    label {
      font-weight: bold;
      margin-top: 10px;
      display: block;
      color: #e0ca51;
      text-align: center;
    }

    input, select {
      padding: 7px;
      margin: 8px 0;
      border-radius: 4px;
      border: 1px solid #555;
      background: rgba(0,0,0,0.3);
      color: #fff;
      font-size: 0.95rem;
      text-align: center;
    }

    button {
      padding: 7px 18px;
      background: #e0ca51;
      color: #000;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 1rem;
      transition: 0.2s;
    }

    button:hover {
      background: #e0ca51;
    }

    .export {
      max-width: 900px;
      margin: 0 auto;
      margin-top: 20px;
    }

    .units-list {
      margin-bottom: 10px;
    }

    .unit-prefix, .unit-code {
      display: inline-block;
    }

    .unit-prefix {
      width: 65px;
    }

    .unit-code {
      width: 70px;
    }

    .remove-btn {
      background: #ff4d4d;
      margin-left: 5px;
      border: none;
      border-radius: 3px;
      color: white;
      padding: 3px 9px;
      font-size: 1.1em;
      cursor: pointer;
    }

    .remove-btn:hover {
      background: #cc0000;
    }

    .add-unit-btn {
      background: #e0ca51;
      margin-left: 5px;
    }

    .add-unit-btn:hover {
      background: #e0ca51;
    }

    .group-title {
      font-weight: bold;
      color: #e0ca51;
      margin-bottom: 10px;
      text-align: center;
    }

    .unit-row {
      margin-bottom: 4px;
    }



    .time-input {
      width: 110px;
      margin: 5px;
    }

    .time-row {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 10px;
    }

    .ampm-select {
      width: 55px;
      margin-left: 5px;
    }

    .report-input {
      width: 70px;
      margin: 5px;
    }

    #reportPreview {
      background: rgba(0,0,0,0.4);
      padding: 10px;
      border-radius: 4px;
      text-align: left;
      color: #fff;
      white-space: pre-wrap;
      line-height: 1.4;
    }

    .disabled-input {
      background: #555;
      color: #999;
    }
	   body {
      background: url("https://raw.githubusercontent.com/xhhp1/mechanics/main/images/mechan.png") no-repeat center center fixed;
      background-size: cover;
      margin: 0;
      font-family: Arial, sans-serif;
      color: white;
      text-align: center;
    }

  </style>
</head>
<body>
  <h1>ØªÙ‚Ø±ÙŠØ±  Ø§Ù„Ø§Ø´Ø±Ø§Ù</h1>
 <form id="reportForm" onsubmit="return false;">
    <div class="section-block">
      <label>Ø±Ù‚Ù… Ø§Ù„ØªÙ‚Ø±ÙŠØ±:</label>
      <input type="text" id="reportNumber" class="report-input" placeholder="Ù…Ø«Ø§Ù„: 5" oninput="updatePreview()">
    </div>
    <div class="section-block">
      <div class="time-row">
        <label>Ù…Ù† Ø§Ù„Ø³Ø§Ø¹Ø©:</label>
        <input type="text" id="fromTime" class="time-input" placeholder="01:00" maxlength="5" oninput="updatePreview()">
        <select id="fromTimeAmPm" class="ampm-select" onchange="updatePreview()">
          <option value="Ù…">Ù…</option>
          <option value="Øµ">Øµ</option>
        </select>
      </div>
      <div class="time-row">
        <label>Ø­ØªÙ‰ Ø§Ù„Ø³Ø§Ø¹Ø©:</label>
        <input type="text" id="toTime" class="time-input" placeholder="02:00" maxlength="5" oninput="updatePreview()">
        <select id="toTimeAmPm" class="ampm-select" onchange="updatePreview()">
          <option value="Ù…">Ù…</option>
          <option value="Øµ">Øµ</option>
        </select>
      </div>
    </div>
    <!-- Ø§Ù„ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© ÙÙ‚Ø· -->
    <div class="section-block">
      <div class="group-title">Ù‚ÙŠØ§Ø¯Ø© Ø§Ù„ÙƒØ±Ø§Ø¬:</div>
      <div id="garageLead" class="units-list"></div>
      <button type="button" class="add-unit-btn" onclick="addUnit('garageLead')">Ø¥Ø¶Ø§ÙØ© ÙˆØ­Ø¯Ø©</button>
    </div>
    <div class="section-block">
      <div class="group-title">Ù…Ø³ØªØ´Ø§Ø± Ø§Ù„Ù‚Ø§Ø¦Ø¯:</div>
      <div id="adviser" class="units-list"></div>
      <button type="button" class="add-unit-btn" onclick="addUnit('adviser')">Ø¥Ø¶Ø§ÙØ© ÙˆØ­Ø¯Ø©</button>
    </div>
    <div class="section-block">
      <div class="group-title">Ø¥Ø´Ø±Ø§Ù Ø¹Ø§Ù…:</div>
      <div id="generalSupervisor" class="units-list"></div>
      <button type="button" class="add-unit-btn" onclick="addUnit('generalSupervisor')">Ø¥Ø¶Ø§ÙØ© ÙˆØ­Ø¯Ø©</button>
    </div>
    <div class="section-block">
      <div class="group-title">Ø¥Ø´Ø±Ø§Ù Ù…ÙŠØ¯Ø§Ù†Ù‰:</div>
      <div id="fieldSupervisor" class="units-list"></div>
      <button type="button" class="add-unit-btn" onclick="addUnit('fieldSupervisor')">Ø¥Ø¶Ø§ÙØ© ÙˆØ­Ø¯Ø©</button>
    </div>
    <div class="section-block">
      <div class="group-title">Ø¥Ø´Ø±Ø§Ù Ø§Ù„Ù…Ù†Ø§Ø·Ù‚:</div>
      <div id="areaSupervisors" class="units-list"></div>
      <button type="button" class="add-unit-btn" onclick="addUnit('areaSupervisors')">Ø¥Ø¶Ø§ÙØ© ÙˆØ­Ø¯Ø©</button>
    </div>
	    <div class="section-block">
      <div class="group-title">Ù…Ø´Ø±ÙÙŠÙ† Ù…ØªØ¯Ø±Ø¨ÙŠÙ† :</div>
      <div id="normals" class="units-list"></div>
      <button type="button" class="add-unit-btn" onclick="addUnit('normals')">Ø¥Ø¶Ø§ÙØ© ÙˆØ­Ø¯Ø©</button>
    </div>
	 <div class="section-block">
      <div class="group-title">Ù„Ø§Ø¹Ø¨ Ù…Ø¹ØªÙ…Ø¯</div>
      <div id="ladiesAndAuthorized" class="units-list"></div>
      <button type="button" class="add-unit-btn" onclick="addUnit('ladiesAndAuthorized')">Ø¥Ø¶Ø§ÙØ© ÙˆØ­Ø¯Ø©</button>
	    </div>
	  <div class="section-block">
      <div class="group-title">Ù…Ø³Ø¦ÙˆÙ„ Ø§ÙØªØªØ§Ø­ Ø§Ù„Ù…ØªØ¬Ø±:</div>
      <div id="mtgr" class="units-list"></div>
      <button type="button" class="add-unit-btn" onclick="addUnit('mtgr')">Ø¥Ø¶Ø§ÙØ© ÙˆØ­Ø¯Ø©</button>
    </div>
	  <div class="section-block">
      <div class="group-title">Ø§Ù„Ù…Ø´Ø±Ù Ø§Ù„Ù…ÙŠØ¯Ø§Ù†ÙŠ Ø¨Ø±ÙˆÙ… Ø§Ù„ÙƒØ±Ø§Ø¬:</div>
      <div id="moshrf_medani" class="units-list"></div>
      <button type="button" class="add-unit-btn" onclick="addUnit('moshrf_medani')">Ø¥Ø¶Ø§ÙØ© ÙˆØ­Ø¯Ø©</button>
    </div>
	  <div class="section-block">
      <div class="group-title">Ù…Ø´Ø±Ù Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø¨Ø±ÙˆÙ… Ø§Ù„ÙƒØ±Ø§Ø¬:</div>
      <div id="moshrf_mantqa" class="units-list"></div>
      <button type="button" class="add-unit-btn" onclick="addUnit('moshrf_mantqa')">Ø¥Ø¶Ø§ÙØ© ÙˆØ­Ø¯Ø©</button>
    </div>
	  <div class="section-block">
      <div class="group-title">Ù…Ø´Ø±Ù Ø§Ù„Ù…ØªØ¯Ø±Ø¨ Ø¨Ø±ÙˆÙ… Ø§Ù„ÙƒØ±Ø§Ø¬:</div>
      <div id="moshrf_motdrb" class="units-list"></div>
      <button type="button" class="add-unit-btn" onclick="addUnit('moshrf_motdrb')">Ø¥Ø¶Ø§ÙØ© ÙˆØ­Ø¯Ø©</button>
    </div>
	
	
    <div class="section-block">
      <div class="group-title">Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª:</div>
      <div id="operations" class="units-list"></div>
      <button type="button" class="add-unit-btn" onclick="addUnit('operations')">Ø¥Ø¶Ø§ÙØ© ÙˆØ­Ø¯Ø©</button>
    </div>
    <div class="section-block">
      <div class="group-title">Ù†Ø§Ø¦Ø¨ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª:</div>
      <div id="operationsDeputy" class="units-list"></div>
      <button type="button" class="add-unit-btn" onclick="addUnit('operationsDeputy')">Ø¥Ø¶Ø§ÙØ© ÙˆØ­Ø¯Ø©</button>
    </div>
    <div class="section-block">
      <div class="group-title">Ù…Ø±ÙƒØ² Ø§Ù„Ø§ØªØµØ§Ù„Ø§Øª:</div>
      <div id="communicationCenter" class="units-list"></div>
      <button type="button" class="add-unit-btn" onclick="addUnit('communicationCenter')">Ø¥Ø¶Ø§ÙØ© ÙˆØ­Ø¯Ø©</button>
    </div>
  
  
	  <div class="section-block">
      <div class="group-title">ÙÙ†ÙŠ Ù…ÙŠÙ†Ø§Ø¡ Ù„ÙˆØ³:</div>
      <div id="losPort" class="units-list"></div>
      <button type="button" class="add-unit-btn" onclick="addUnit('losPort')">Ø¥Ø¶Ø§ÙØ© ÙˆØ­Ø¯Ø©</button>
    </div>
    <div class="section-block">
      <div class="group-title">ÙÙ†ÙŠ Ù…ÙŠÙ†Ø§Ø¡ Ø¨ÙˆÙ„ÙŠØªÙˆ:</div>
      <div id="bolitoPort" class="units-list"></div>
      <button type="button" class="add-unit-btn" onclick="addUnit('bolitoPort')">Ø¥Ø¶Ø§ÙØ© ÙˆØ­Ø¯Ø©</button>
    </div>

 
	  <div class="section-block">
      <div class="group-title">Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„Ø¥Ù†Ù‚Ø§Ø°:</div>
      <div id="rescue" class="units-list"></div>
      <button type="button" class="add-unit-btn" onclick="addUnit('rescue')">Ø¥Ø¶Ø§ÙØ© ÙˆØ­Ø¯Ø©</button>
    </div>
 
  
    <!-- Ø¥Ø¶Ø§ÙØ© ÙˆØ­Ø¯ØªÙŠ Ø³Ø§Ù†Ø¯ÙŠ ÙˆØ¨ÙˆÙ„ÙŠØªÙˆ -->
  
   <button type="button" onclick="exportReport()">ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ‚Ø±ÙŠØ±</button>
<button type="button" onclick="copyReport()">Ù†Ø³Ø® Ø§Ù„ØªÙ‚Ø±ÙŠØ±</button>
  </form>
  <div class="export">
    <h2 style="color:#e0ca51; text-align:center;">Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªÙ‚Ø±ÙŠØ±:</h2>
    <pre id="reportPreview"></pre>
  </div>

  <script>
 function copyReport() {
  const reportText = document.getElementById('reportPreview').textContent;
  navigator.clipboard.writeText(reportText).then(() => {
    alert("ØªÙ… Ù†Ø³Ø® Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­ âœ…");
  }).catch(err => {
    alert("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ù†Ø³Ø® âŒ");
    console.error(err);
  });
}
    function addUnit(areaId) {
      const parent = document.getElementById(areaId);
      const unitDiv = document.createElement('div');
      unitDiv.className = "unit-row";
      const prefixSelect = document.createElement('select');
      prefixSelect.className = 'unit-prefix';
      [
        {v: 'G', t: 'G'},
        {v: 'H', t: 'H'},
        {v: 'E', t: 'E'},
        {v: 'P', t: 'P'},
		{v: 'A', t: 'A'},
		{v: 'F', t: 'F'},
		{v: 'M', t: 'M'},
		{v: 'R', t: 'R'},
      ].forEach(optObj=>{
        const opt = document.createElement('option');
        opt.value = optObj.v;
        opt.textContent = optObj.t;
        prefixSelect.appendChild(opt);
      });
      prefixSelect.onchange = function() {
        if(this.value === 'Ù„Ø§ ÙŠÙˆØ¬Ø¯') {
          codeInput.value = '';
          codeInput.disabled = true;
          codeInput.classList.add('disabled-input');
        } else {
          codeInput.disabled = false;
          codeInput.classList.remove('disabled-input');
        }
        updatePreview();
      };
      const codeInput = document.createElement('input');
      codeInput.type = 'text';
      codeInput.placeholder = 'Ø±Ù‚Ù… Ø§Ù„ÙˆØ­Ø¯Ø© (Ù…Ø«Ø§Ù„: 012)';
      codeInput.className = 'unit-code';
      codeInput.oninput = updatePreview;

      const removeBtn = document.createElement('button');
      removeBtn.type = 'button';
      removeBtn.className = 'remove-btn';
      removeBtn.textContent = 'Ã—';
      removeBtn.onclick = () => { parent.removeChild(unitDiv); updatePreview(); };

      unitDiv.appendChild(prefixSelect);
      unitDiv.appendChild(codeInput);
      unitDiv.appendChild(removeBtn);
      parent.appendChild(unitDiv);

      updatePreview();
    }

 function getUnits(areaId) {
  const parent = document.getElementById(areaId);
  const units = [];
  parent.querySelectorAll('.unit-row').forEach(unitRow => {
    const prefix = unitRow.querySelector('.unit-prefix').value;
    const code = unitRow.querySelector('.unit-code').value.trim();
    if(areaId === 'sandy' || areaId === 'bolito'|| areaId === 'gezera'|| areaId === 'los') {
      if(prefix !== 'Ù„Ø§ ÙŠÙˆØ¬Ø¯' && code) {
        units.push(`${prefix}-${code}`); // Ø§Ù„Ø­Ø±Ù ÙˆØ±Ù‚Ù… Ø§Ù„ÙˆØ­Ø¯Ø© Ø¨Ø¯ÙˆÙ† @
      } else if (code) {
        units.push(code); // Ù„Ùˆ Ù…ÙÙŠØ´ prefix
      }
    } else {
      if(prefix !== 'Ù„Ø§ ÙŠÙˆØ¬Ø¯' && code) {
        units.push(`@${prefix}-${code}`);
      }
    }
  });
  return units;
}

function generateLine(label, arr, emptyLabel, newLineAfterLabel = false) {
  let filteredArr = arr.filter(v => v);
  let out = newLineAfterLabel ? `${label}\n` : `${label} `;
  
  if (filteredArr.length) {
    out += filteredArr.join('\n');
  } else {
    out += emptyLabel || "Ù„Ø§ÙŠÙˆØ¬Ø¯";
  }
  out += '\n\n';
  return out;
}

    function generateReport() {
  const reportNumber = document.getElementById('reportNumber').value.trim();
  const fromTimeRaw = document.getElementById('fromTime').value.trim();
  const fromTimeAmPm = document.getElementById('fromTimeAmPm').value;
  const toTimeRaw = document.getElementById('toTime').value.trim();
  const toTimeAmPm = document.getElementById('toTimeAmPm').value;

  // ğŸ”§ Helper to format times correctly
  function formatTime(t) {
    if (!t) return "00:00";
    let parts = t.split(':');
    let hours = parts[0].padStart(2, '0');
    let minutes = parts[1] ? parts[1].padStart(2, '0') : '00';
    return `${hours}:${minutes}`;
  }

  const fromTime = formatTime(fromTimeRaw);
  const toTime = formatTime(toTimeRaw);

  let report = ``;
  report += `ØªÙ‚Ø±ÙŠØ± Ø±Ù‚Ù… ( ${reportNumber} )\n\n`;
  report += `ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ† Ù…Ù† Ø§Ù„Ø³Ø§Ø¹Ù‡ ( ${fromTime} ${fromTimeAmPm} ) Ø¥Ù„Ù‰ Ø§Ù„Ø³Ø§Ø¹Ù‡ ( ${toTime} ${toTimeAmPm} )\n\n`;

  report += generateLine("Ù‚ÙŠØ§Ø¯Ø© Ø§Ù„ÙƒØ±Ø§Ø¬:", getUnits('garageLead'));
  report += generateLine("Ù…Ø³ØªØ´Ø§Ø± Ø§Ù„Ù‚Ø§Ø¦Ø¯:", getUnits('adviser'));
  report += generateLine("Ø¥Ø´Ø±Ø§Ù Ø¹Ø§Ù…:", getUnits('generalSupervisor'));
  report += generateLine("Ø¥Ø´Ø±Ø§Ù Ù…ÙŠØ¯Ø§Ù†Ù‰:", getUnits('fieldSupervisor'));
  report += generateLine("Ø¥Ø´Ø±Ø§Ù Ø§Ù„Ù…Ù†Ø§Ø·Ù‚:", getUnits('areaSupervisors'));
  report += generateLine("Ù…Ø´Ø±ÙÙŠÙ† Ù…ØªØ¯Ø±Ø¨ÙŠÙ†:", getUnits('normals'));
  report += generateLine("Ù„Ø§Ø¹Ø¨ Ù…Ø¹ØªÙ…Ø¯:", getUnits('ladiesAndAuthorized'));
  report += `-------------------------------------------\n\n`;
  report += generateLine("Ù…Ø³Ø¤ÙˆÙ„ Ø§ÙØªØªØ§Ø­ Ø§Ù„Ù…ØªØ¬Ø±:", getUnits('mtgr'));
  report += generateLine("Ø§Ù„Ù…Ø´Ø±Ù Ø§Ù„Ù…ÙŠØ¯Ø§Ù†ÙŠ Ø¨Ø±ÙˆÙ… Ø§Ù„ÙƒØ±Ø§Ø¬ :", getUnits('moshrf_medani'));
  report += generateLine("Ù…Ø´Ø±Ù Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø¨Ø±ÙˆÙ… Ø§Ù„ÙƒØ±Ø§Ø¬ :", getUnits('moshrf_mantqa'));
  report += generateLine("Ù…Ø´Ø±Ù Ø§Ù„Ù…ØªØ¯Ø±Ø¨ Ø¨Ø±ÙˆÙ… Ø§Ù„ÙƒØ±Ø§Ø¬ :", getUnits('moshrf_motdrb'));
  report += `-------------------------------------------\n\n`;
  report += generateLine("Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª:", getUnits('operations'));
  report += generateLine("Ù†Ø§Ø¦Ø¨ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª:", getUnits('operationsDeputy'));
  report += generateLine("Ù…Ø±ÙƒØ² Ø§Ù„Ø§ØªØµØ§Ù„Ø§Øª:", getUnits('communicationCenter'));
  report += generateLine("ÙÙ†ÙŠ Ù…ÙŠÙ†Ø§Ø¡ Ù„ÙˆØ³:", getUnits('losPort'));
  report += generateLine("ÙÙ†ÙŠ Ù…ÙŠÙ†Ø§Ø¡ Ø¨ÙˆÙ„ÙŠØªÙˆ:", getUnits('bolitoPort'));
  report += generateLine("Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„Ø¥Ù†Ù‚Ø§Ø°:", getUnits('rescue'));
  report += `ØªØ³Ù„ÙŠÙ… Ø§Ù„ØªÙ‚Ø±ÙŠØ± :â \n\n`;

  return report;
}

    function updatePreview() {
      document.getElementById('reportPreview').textContent = generateReport();
    }
    // Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
 const sections = [
      'garageLead','adviser','generalSupervisor','fieldSupervisor',
      'areaSupervisors','operations','operationsDeputy','communicationCenter',
      'ladiesAndAuthorized','rescue','normals','mtgr',
      'moshrf_medani','moshrf_mantqa','moshrf_motdrb','bolitoPort','losPort'
    ];
    sections.forEach(id => addUnit(id));
    updatePreview();

    function exportReport() {
  const report = generateReport();
  document.getElementById('reportPreview').textContent = report;
  // ØªÙ… Ø­Ø°Ù ÙƒÙˆØ¯ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ù„Ù ÙˆØ§Ù„Ø±Ø§Ø¨Ø·
}
    document.getElementById('fromTimeAmPm').addEventListener('change', updatePreview);
    document.getElementById('toTimeAmPm').addEventListener('change', updatePreview);
    document.getElementById('reportNumber').addEventListener('input', updatePreview);
    document.getElementById('fromTime').addEventListener('input', updatePreview);
    document.getElementById('toTime').addEventListener('input', updatePreview);
  </script>
</body>
</html>





